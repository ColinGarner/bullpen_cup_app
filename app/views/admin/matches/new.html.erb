<% content_for :title, "Create New Match - Admin" %>

<div class="px-4 sm:px-6 lg:px-8">
  <!-- Breadcrumb -->
  <nav class="mb-6" aria-label="Breadcrumb">
    <ol class="flex items-center space-x-4 text-sm">
      <li>
        <%= link_to "Tournaments", scoped_admin_tournaments_path, class: "text-gray-500 hover:text-gray-700" %>
      </li>
      <li>
        <svg class="flex-shrink-0 h-5 w-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </li>
      <li>
        <%= link_to @tournament.name, scoped_admin_tournament_path(@tournament), class: "text-gray-500 hover:text-gray-700" %>
      </li>
      <li>
        <svg class="flex-shrink-0 h-5 w-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </li>
      <li>
        <%= link_to @round.name, scoped_admin_tournament_round_path(@tournament, @round), class: "text-gray-500 hover:text-gray-700" %>
      </li>
      <li>
        <svg class="flex-shrink-0 h-5 w-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </li>
      <li>
        <%= link_to "Matches", scoped_admin_tournament_round_matches_path(@tournament, @round), class: "text-gray-500 hover:text-gray-700" %>
      </li>
      <li>
        <svg class="flex-shrink-0 h-5 w-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </li>
      <li>
        <span class="text-gray-900 font-medium">Create New Match</span>
      </li>
    </ol>
  </nav>

  <div class="max-w-3xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900">Create New Match</h1>
      <p class="mt-2 text-lg text-gray-600">
        Set up a new match for <strong><%= @round.name %></strong> in <strong><%= @tournament.name %></strong>
      </p>
    </div>

    <!-- Form Card -->
    <div class="bg-white rounded-xl shadow-lg p-8">
      <%= render 'form', 
          url: scoped_admin_tournament_round_matches_path(@tournament, @round), 
          button_text: 'Create Match' %>
    </div>

    <!-- Help Information -->
    <div class="mt-8 bg-blue-50 rounded-xl p-6">
      <h3 class="text-lg font-bold text-blue-900 mb-4">Match Type Information</h3>
      <div class="space-y-3 text-sm text-blue-800">
        <div>
          <strong>Singles Match Play:</strong> One player from each team competes (1v1)
        </div>
        <div>
          <strong>Fourball Match Play:</strong> Two players from each team compete, each plays their own ball (2v2)
        </div>
        <div>
          <strong>Alt Shot Match Play:</strong> Two players from each team compete, teams alternate shots (2v2)
        </div>
        <div>
          <strong>Stableford:</strong> Points-based scoring system, typically individual or pairs
        </div>
      </div>
    </div>

    <!-- Tournament Context -->
    <div class="mt-8 bg-white rounded-xl shadow-lg p-6">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Tournament Context</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <p class="text-sm font-medium text-gray-500">Tournament</p>
          <p class="text-lg text-gray-900"><%= @tournament.name %></p>
        </div>
        <div>
          <p class="text-sm font-medium text-gray-500">Round</p>
          <p class="text-lg text-gray-900"><%= @round.name %></p>
        </div>
        <div>
          <p class="text-sm font-medium text-gray-500">Available Teams</p>
          <p class="text-lg text-gray-900"><%= @available_teams.count %> teams</p>
        </div>
      </div>
    </div>
  </div>
</div> 